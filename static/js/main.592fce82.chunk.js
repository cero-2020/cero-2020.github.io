(this["webpackJsonpmy-app-2"]=this["webpackJsonpmy-app-2"]||[]).push([[0],{222:function(e,t,n){},252:function(e,t){},275:function(e,t){},277:function(e,t){},32:function(e,t,n){},353:function(e,t){},355:function(e,t){},387:function(e,t){},392:function(e,t){},394:function(e,t){},401:function(e,t){},414:function(e,t){},496:function(e,t,n){},497:function(e,t,n){},498:function(e,t,n){},500:function(e,t,n){},525:function(e,t,n){},526:function(e,t,n){},527:function(e,t,n){},528:function(e,t,n){},529:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),r=n.n(c),s=n(64),o=n.n(s),l=n(128),i=n(131),h=n(39),u=n.n(h),d={contracts:[{contractName:"HeroCore",web3Contract:new(new u.a(u.a.givenProvider).eth.Contract)([{constant:!1,inputs:[{internalType:"string",name:"_soul",type:"string"},{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_parent1",type:"uint256"},{internalType:"uint256",name:"_parent2",type:"uint256"},{internalType:"bool",name:"isNoParent",type:"bool"}],name:"createHero",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getFights",outputs:[{internalType:"uint256[]",name:"hero1",type:"uint256[]"},{internalType:"uint256[]",name:"hero2",type:"uint256[]"},{internalType:"uint256[]",name:"winner",type:"uint256[]"},{internalType:"uint256[]",name:"time",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"_heroNum",type:"uint256"}],name:"getHeroInfo",outputs:[{internalType:"string",name:"soul",type:"string"},{internalType:"uint256",name:"birthday",type:"uint256"},{internalType:"uint256",name:"parent1",type:"uint256"},{internalType:"uint256",name:"parent2",type:"uint256"},{internalType:"bool",name:"isExist",type:"bool"},{internalType:"uint256",name:"lastFight",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"_heroNum",type:"uint256"}],name:"getHeroOwner",outputs:[{internalType:"address",name:"heroOwner",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getHeroesCount",outputs:[{internalType:"uint256",name:"count",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getHeroesOwner",outputs:[{internalType:"uint256[]",name:"heroNum",type:"uint256[]"},{internalType:"address[]",name:"heroOwner",type:"address[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_hero1Num",type:"uint256"},{internalType:"uint256",name:"_hero2Num",type:"uint256"},{internalType:"address",name:"_hero1Owner",type:"address"},{internalType:"bool",name:"isWinnerHero1",type:"bool"},{internalType:"string",name:"soul",type:"string"}],name:"heroesFight",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"}],"0x663bdd053eec756f1e456a6dfcd10d5af86c229e")}],web3:{fallback:{type:"ws",url:"ws://54.187.245.252:8545"}}},j=n(10),g=n(35),b=n(228),m="en-GB";function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LANG":return t.payload;default:return e}}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DRIZZLE":return t.payload;default:return e}}var f=n(19),x={wallet:null,walletFormatted:null,balance:null};function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ACCOUNT_WALLET":return Object(f.a)(Object(f.a)({},e),{},{wallet:t.payload,walletFormatted:t.payload.toUpperCase()});case"SET_ACCOUNT_BALANCE":return Object(f.a)(Object(f.a)({},e),{},{balance:t.payload});default:return e}}var _={};function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ADDRESS_TO_HEROES":return Object(f.a)({},t.payload);default:return e}}var N={lastUpdate:0};function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LAST_SYNC_UPDATE":return{lastUpdate:Date.now()};default:return e}}var w={hero1:null,hero2:null};function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TO_CREATE_HERO_1":return Object(f.a)(Object(f.a)({},e),{},{hero1:t.payload,hero2:null});case"SET_TO_CREATE_HERO_2":return Object(f.a)(Object(f.a)({},e),{},{hero2:t.payload});default:return e}}var H={hero1:null,hero2:null};function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TO_FIGHT_HERO_1":return Object(f.a)(Object(f.a)({},e),{},{hero1:t.payload});case"SET_TO_FIGHT_HERO_2":return Object(f.a)(Object(f.a)({},e),{},{hero2:t.payload});default:return e}}var k={info:{}};function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_HERO_CREATED":return{info:t.payload};default:return e}}var F=[];function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FIGHTS_RESULT":return Object(f.a)({},t.payload);default:return e}}var z=function(){return Object(g.combineReducers)({lang:p,drizzle:O,account:v,addressToHeroes:y,syncData:T,heroToFight:S,heroToCreate:C,heroCreated:E,fightsResult:D})},R=Object(g.createStore)(z(),Object(b.composeWithDevTools)()),A=n(16),I=n.n(A),L=n(34),M=n(18),B=n(36),W=n(17),U=function(e){return{type:"SET_ACCOUNT_WALLET",payload:e}},G=function(e){return{type:"SET_ACCOUNT_BALANCE",payload:e}};function P(){var e=new u.a;if(window.ethereum){e=new u.a(window.ethereum);try{window.ethereum.enable().then((function(){}))}catch(t){}return e}return window.web3?e=new u.a(e.currentProvider):null}var Y=n(229),q=n(94),V=(n(496),n(497),n.p+"static/media/fox.1dd57e24.svg"),Z=(n(498),{Test:"\u0422\u0435\u0441\u0442",Account:"\u0410\u043a\u0430\u0443\u043d\u0442"}),J={Test:"Test",Account:"Account"};function K(e){if("undefined"===typeof e||null===e)return!0;if("string"===typeof e&&0===e.length)return!0;if(Array.isArray(e)&&e.length>0)return!1;if("object"===typeof e&&null!==e){if(0===Object.entries(e).length)return!0;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1}return!1}function Q(e){return e.charAt(0).toUpperCase()+e.slice(1)}function X(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n){var a=null;if(K(a)&&(a=Object.keys(Z).find((function(e){return Z[e]===t}))),K(a)&&(a=Object.keys(J).find((function(e){return J[e]===t}))),K(a))return t;t=a}var c=$(e);return K(c)||K(c[t])?t:c[t]}function $(e){switch(e){case"ru-RU":return Z;case"en-GB":return J;default:return null}}n(32),n(222);var ee=n.p+"static/media/player_magic_3.af8ffbbb.svg",te=n.p+"static/media/player_thief_3.9c7c9c16.svg",ne=n.p+"static/media/player_warrior_3.3556ebaf.svg";function ae(e){return Math.floor(Math.random()*Math.floor(e))}function ce(e,t){switch(t){case"warrior":return 110*e;case"thief":return 100*e;case"wizard":return 90*e;default:return 0}}var re=function(e){ae(3);switch(e){case"wizard":return ee;case"thief":return te;default:return ne}},se=Object(j.b)((function(e){return{lang:e.lang}}))((function(e){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("img",{src:re(e.heroData.info.heroClass),className:"HeroImg"}),Object(a.jsxs)("div",{className:"HeroItem__container",children:[Object(a.jsx)("p",{className:"HeroItem-subtitle",children:X(e.lang,"name")}),Object(a.jsx)("p",{className:"HeroItem-name",children:e.heroData.info.name})]}),Object(a.jsxs)("div",{className:"HeroItem-flex",children:[Object(a.jsxs)("p",{className:"HeroItem-class-block",children:[Object(a.jsx)("span",{className:"HeroItem-subtitle",children:X(e.lang,"class")}),Object(a.jsx)("span",{className:"HeroItem-class",children:Q(e.heroData.info.heroClass)})]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("span",{className:"HeroItem-level",children:e.heroData.info.level}),Object(a.jsx)("span",{className:"HeroItem-level-sub",children:X(e.lang,"lvl")})]})]})]})})),oe={setToCreateHero1:function(e){return{type:"SET_TO_CREATE_HERO_1",payload:e}},setToCreateHero2:function(e){return{type:"SET_TO_CREATE_HERO_2",payload:e}}},le=Object(j.b)((function(e){return{lang:e.lang}}),oe)((function(e){return"createHero1"===e.action?Object(a.jsx)("div",{onClick:function(){e.setToCreateHero1(e.heroData),e.toggle("close")},className:"HeroItem",children:Object(a.jsx)(se,{heroData:e.heroData})}):"createHero2"===e.action?Object(a.jsx)("div",{onClick:function(){e.setToCreateHero2(e.heroData),e.toggle("close")},className:"HeroItem",children:Object(a.jsx)(se,{heroData:e.heroData})}):"none"===e.action?Object(a.jsx)("div",{className:"HeroItem",children:Object(a.jsx)(se,{heroData:e.heroData})}):Object(a.jsx)(B.b,{to:"/hero-stats?number="+e.heroData.number,className:"HeroItem",children:Object(a.jsx)(se,{heroData:e.heroData})},"key")})),ie=Object(j.b)((function(e){return{lang:e.lang,heroToFight:e.heroToFight}}))((function(e){var t=Object(c.useState)(!1),n=Object(M.a)(t,2),r=n[0],s=n[1];return Object(a.jsx)("div",{className:"modal modal-result",children:Object(a.jsxs)("div",{className:"modal__content",children:[Object(a.jsx)("div",{className:"modal__hero",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)(le,{heroData:e.heroToFight.hero1,action:"none"}),Object(a.jsxs)("div",{className:"modal__hero-vs",children:[Object(a.jsx)("img",{src:"".concat("","/images/")+(e.fightResult.isHero1Win?"fight.svg":"lose.svg")}),Object(a.jsx)("p",{className:e.fightResult.isHero1Win?"win":"lose",children:e.fightResult.isHero1Win?X(e.lang,"Win"):X(e.lang,"Lose")})]}),Object(a.jsx)(le,{heroData:e.heroToFight.hero2,action:"none"})]})}),!0===e.fightResult.isHero1Win?Object(a.jsxs)("p",{className:"modal__win-text",children:[X(e.lang,"Legends began to be told about your battle, until the last it was not clear who would win. But fate and experience were on your side. Congratulations on your"),Object(a.jsx)("span",{children:X(e.lang,"victory,")}),X(e.lang,"Cero!")]}):Object(a.jsxs)("p",{className:"modal__lose-text",children:[X(e.lang,"You fought like a tiger. The sound of battle rang out for hundreds of kilometers. But unfortunately the enemy turned out to be quicker. Don't be upset, Cero, learn from your mistakes,"),Object(a.jsx)("span",{children:X(e.lang," defeat")}),X(e.lang,"is an experience! Get ready for a new battle and everything will work out!!")]}),Object(a.jsxs)("div",{className:"modal__flex",children:[Object(a.jsx)("p",{className:"btn",onClick:function(){return s(!r)},children:X(e.lang,"Show logs")}),!0===e.fightResult.isHero1Win?Object(a.jsxs)("p",{className:"main-btn active",onClick:function(){return e.toggle("omg")},children:[X(e.lang,"Take reward!"),Object(a.jsx)("img",{src:"".concat("","/images/reward.svg")})]}):Object(a.jsx)("p",{className:"main-btn active",onClick:function(){return e.toggle("close")},children:X(e.lang,"Close")})]}),Object(a.jsx)("div",{className:"modal-log"+(r?" active":""),children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h4",{className:"modal-log__title",children:X(e.lang,"Combat log")}),Object(a.jsx)("ul",{children:e.fightResult.logger.map((function(e,t){return Object(a.jsx)("li",{children:e},t)}))})]})})]})})})),he=Object(j.b)((function(e){return{lang:e.lang,account:e.account,addressToHeroes:e.addressToHeroes,heroToCreate:e.heroToCreate}}))((function(e){return Object(a.jsx)("div",{className:"modal modal-choose",children:Object(a.jsxs)("div",{className:"modal__content",children:[Object(a.jsx)("div",{className:"modal__top",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h3",{className:"modal__title",children:X(e.lang,"Choose your Cero")}),Object(a.jsxs)("p",{className:"btn",onClick:function(){return e.toggle("close")},children:[X(e.lang,"close")," "]})]})}),Object(a.jsx)("div",{className:"modal__hero",children:Object(a.jsx)("div",{className:"container",children:function(){var t=e.addressToHeroes[e.account.walletFormatted];return void 0===t||0===t.length?"":null===e.heroToCreate.hero1?t.map((function(t,n){return Object(a.jsx)(le,{heroData:t,action:"createHero1",toggle:e.toggle},n)})):t.map((function(t,n){return t.number===e.heroToCreate.hero1.number||t.info.level!==e.heroToCreate.hero1.info.level?"":Object(a.jsx)(le,{heroData:t,action:"createHero2",toggle:e.toggle},n)}))}()})})]})})})),ue=(n(500),Object(j.b)((function(e){return{lang:e.lang}}))((function(e){if(null===e.heroData||void 0===e.heroData)return"";if(0===Object.keys(e.heroData).length)return"";return Object(a.jsxs)("div",{className:"HeroStats-item",children:[Object(a.jsxs)("div",{className:"HeroStats-item-left",children:[Object(a.jsx)("img",{src:re(e.heroData.info.heroClass),className:"HeroImg"}),Object(a.jsxs)("div",{className:"HeroItem__container",children:[Object(a.jsx)("p",{className:"HeroItem-subtitle",children:X(e.lang,"name")}),Object(a.jsx)("p",{className:"HeroItem-name",children:e.heroData.info.name})]}),Object(a.jsxs)("div",{className:"HeroItem-flex",children:[Object(a.jsxs)("p",{className:"HeroItem-class-block",children:[Object(a.jsx)("span",{className:"HeroItem-subtitle",children:X(e.lang,"class")}),Object(a.jsx)("span",{className:"HeroItem-class",children:Q(e.heroData.info.heroClass)})]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("span",{className:"HeroItem-level",children:e.heroData.info.level}),Object(a.jsx)("span",{className:"HeroItem-level-sub",children:X(e.lang,"lvl")})]})]})]}),Object(a.jsxs)("div",{className:"HeroStats-item-right",children:[Object(a.jsxs)("p",{children:[Object(a.jsx)("span",{children:e.heroData.info.strength}),X(e.lang,"Strength")]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("span",{children:e.heroData.info.protection}),X(e.lang,"Protection")]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("span",{children:e.heroData.info.agility}),X(e.lang,"Agility")]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("span",{children:e.heroData.info.magic}),X(e.lang,"Magic")]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("span",{children:X(e.lang,"overview")}),function(){switch(e.heroData.info.heroClass){case"wizard":return X(e.lang,"Magician born in the school of magic. From birth he feels a great craving for everything magical and spiritual.");case"thief":return X(e.lang,"Skillfulness of hands and the ability to hide even in the most crowded place. These are the qualities that real thieves possess.");default:return X(e.lang,"A warrior is born to win! He is brave, strong and always ready to fight.")}}()]})]})]})}))),de=n(501),je="9a819eba36e6887b876d3b6a236917d725a1cb4a01113645690ab862791cd62b";function ge(e,t,n,a,c,r,s){var o=[e,t,n,a,c,r,s].join("-");return de.AES.encrypt(o,je).toString()}function be(e){var t=de.AES.decrypt(e,je).toString(de.enc.Utf8).split("-");return{name:t[0],level:t[1],heroClass:t[2],strength:t[3],protection:t[4],agility:t[5],magic:t[6]}}var me=["Bomb","Chronic","Epic","Catastrophic","Amusing","Madden","Melancholic","Tattered","Crying","Compulsive","Thirsty","Exhausted","Throbbing","Obstinate","Disapproving"],pe=["devil","hairline","kid","daddy","director","amanita","hump","mandarin","horse","smoke","bike","sock","nose","rooster","drink"];function Oe(e,t,n,a,c,r,s,o,l){return n*=e,a*=e,c*=e,s*=e,o*=e,l*=e,{strength:(t*=e)+ae((r*=e)-t===0?0:r-t+1),protection:n+ae(s-n===0?0:s-n+1),agility:a+ae(o-a===0?0:o-a+1),magic:c+ae(l-c===0?0:l-c+1),level:e,name:me[ae(me.length)]+" "+pe[ae(pe.length)]}}function fe(e){return e.level=Number(e.level),e.strength=Number(e.strength),e.protection=Number(e.protection),e.agility=Number(e.agility),e.magic=Number(e.magic),e}function xe(e,t){if(e=fe(e),t=fe(t),e.level!==t.level)return null;var n=Number(e.level)+1,a={},c=function(e,t){var n=Math.ceil((e.strength+t.strength)/(2*e.level));n=ae(101)>50?n+1:n;var a=Math.ceil((e.protection+t.protection)/(2*e.level));a=ae(101)>50?a+1:a;var c=Math.ceil((e.agility+t.agility)/(2*e.level));c=ae(101)>50?c+1:c;var r=Math.ceil((e.magic+t.magic)/(2*e.level));return{st_base:n,pr_base:a,ag_base:c,ma_base:r=ae(101)>50?r+1:r}}(e,t);return c.ag_base>=c.ma_base&&c.ag_base>c.pr_base&&c.ma_base<6?((a=Oe(n,c.st_base,c.pr_base,c.ag_base,c.ma_base,10,6,10,0)).strength=a.strength>10*n?10*n:a.strength,a.protection=a.protection>6*n?6*n:a.protection,a.agility=a.agility>10*n?10*n:a.agility,a.magic=0,a.heroClass="thief"):c.ma_base>=c.ag_base&&c.ma_base>c.pr_base||c.ma_base>=6?((a=Oe(n,c.st_base,c.pr_base,c.ag_base,c.ma_base,0,4,6,10)).strength=0,a.protection=a.protection>4*n?4*n:a.protection,a.agility=a.agility>6*n?6*n:a.agility,a.magic=a.magic>10*n?10*n:a.magic,a.heroClass="wizard"):((a=Oe(n,c.st_base,c.pr_base,c.ag_base,c.ma_base,10,10,6,0)).strength=a.strength>10*n?10*n:a.strength,a.protection=a.protection>10*n?10*n:a.protection,a.agility=a.agility>6*n?6*n:a.agility,a.magic=0,a.heroClass="warrior"),a.soul=ge(a.name,a.level,a.heroClass,a.strength,a.protection,a.agility,a.magic),a}function ve(e){var t={};switch(ae(2)){case 0:t=function(e){var t=Oe(e,6,2,6,0,10,6,10,0);return t.heroClass="thief",t}(e);break;case 1:t=function(e){var t=Oe(e,0,2,2,6,0,4,6,10);return t.heroClass="wizard",t}(e);break;default:t=function(e){var t=Oe(e,6,6,2,0,10,10,6,0);return t.heroClass="warrior",t}(e)}return t.soul=ge(t.name,t.level,t.heroClass,t.strength,t.protection,t.agility,t.magic),t}function _e(e,t,n){var a=!1,c=!1,r=e.strength+e.magic;a=0!==t.protection&&"wizard"!==e.heroClass&&ae(10*t.level)+1<=t.protection,c=0!==t.agility&&ae(10*t.level)+1<=t.agility,!0===a?(r=Math.floor(r/2),n.push('"'.concat(e.name,'"(').concat(e.hp,"/").concat(e.hpBase,') attacked "').concat(t.name,'"(').concat(t.hp,"/").concat(t.hpBase,') but "').concat(t.name,'" was able to defend himself and block some damage.'))):!0===c?(r=Math.floor(r/3),n.push('"'.concat(e.name,'"(').concat(e.hp,"/").concat(e.hpBase,') attacked "').concat(t.name,'"(').concat(t.hp,"/").concat(t.hpBase,') but "').concat(t.name,'" dodged the hit and escaped most of the damage.'))):n.push('"'.concat(e.name,'"(').concat(e.hp,"/").concat(e.hpBase,') attacked "').concat(t.name,'"(').concat(t.hp,"/").concat(t.hpBase,") and deal ").concat(r," units of damage.")),t.hp-=r}function ye(e,t){e=fe(e),t=fe(t),e.hp=ce(e.level,e.heroClass),t.hp=ce(t.level,t.heroClass),e.hpBase=ce(e.level,e.heroClass),t.hpBase=ce(t.level,t.heroClass);for(var n=!1,a=[];e.hp>0&&t.hp>0;)!1===n?(_e(e,t,a),n=!0):(_e(t,e,a),n=!1),e.hp<=0&&a.push('"'.concat(e.name,'" loose!')),t.hp<=0&&a.push('"'.concat(t.name,'" loose!'));return{isHero1Win:e.hp>0,logger:a}}var Ne={setToFightHero2:function(e){return{type:"SET_TO_FIGHT_HERO_2",payload:e}}},Te=Object(j.b)((function(e){return{lang:e.lang,addressToHeroes:e.addressToHeroes,heroToFight:e.heroToFight,account:e.account,drizzle:e.drizzle}}),Ne)((function(e){function t(){return(t=Object(L.a)(I.a.mark((function t(){var n,a,c,r;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=ye(e.heroToFight.hero1.info,e.heroToFight.hero2.info),a=ve(1),c=e.heroToFight.hero1,r=e.heroToFight.hero2,n.newHero={info:a},e.setFightResult(n),e.toggle("preloader"),t.next=9,e.drizzle.contracts.HeroCore.methods.heroesFight(c.number,r.number,e.account.wallet,n.isHero1Win,a.soul).send({from:e.account.wallet},(function(t){null!==t&&e.toggle(null)}));case 9:t.sent,e.toggle("fight-result");case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(c.useEffect)((function(){for(var t=[],n=0,a=Object.entries(e.addressToHeroes);n<a.length;n++){var c=Object(M.a)(a[n],2),r=c[0],s=c[1];r!==e.account.walletFormatted&&s.forEach((function(n){Number(e.heroToFight.hero1.info.level)===Number(n.info.level)&&t.push(n)}))}var o=t[ae(t.length)];e.setToFightHero2(o)}),[]),Object(a.jsx)("div",{className:"modal modal-fight",children:Object(a.jsxs)("div",{className:"modal__content",children:[Object(a.jsx)("div",{className:"modal__hero",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)(ue,{heroData:e.heroToFight.hero1}),Object(a.jsxs)("div",{className:"modal__hero-vs",children:[Object(a.jsx)("img",{src:"".concat("","/images/fight.svg")}),Object(a.jsx)("p",{children:X(e.lang,"VS")})]}),Object(a.jsx)(ue,{heroData:e.heroToFight.hero2})]})}),Object(a.jsxs)("div",{className:"modal__flex",children:[Object(a.jsx)("p",{className:"btn",onClick:function(){return e.toggle("fight-select")},children:X(e.lang,"Back")}),Object(a.jsx)("p",{className:"main-btn active",onClick:function(){return function(){return t.apply(this,arguments)}()},children:X(e.lang,"Start fight!")})]})]})})})),we={setToFightHero1:function(e){return{type:"SET_TO_FIGHT_HERO_1",payload:e}}},Ce=Object(j.b)((function(e){return{lang:e.lang,drizzle:e.drizzle,account:e.account,addressToHeroes:e.addressToHeroes,heroToFight:e.heroToFight}}),we)((function(e){return Object(a.jsx)("div",{className:"modal",children:Object(a.jsxs)("div",{className:"modal__content",children:[Object(a.jsx)("div",{className:"modal__top",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h3",{className:"modal__title",children:X(e.lang,"Choose your Cero to fight")}),Object(a.jsxs)("p",{className:"btn",onClick:function(){return e.toggle("close")},children:[X(e.lang,"close")," "]})]})}),Object(a.jsx)("div",{className:"modal__hero",children:Object(a.jsx)("div",{className:"container",children:function(){var t=e.addressToHeroes[e.account.walletFormatted];return void 0===t||0===t.length?"":t.map((function(t,n){var c="HeroContainer";return null!==e.heroToFight.hero1&&t[0]===e.heroToFight.hero1[0]?c+=" HeroContainer":null!==e.heroToFight.hero1&&t[0]!==e.heroToFight.hero1[0]&&(c+=" HeroContainer_active_not"),Object(a.jsx)("div",{onClick:function(){return e.setToFightHero1(t)},className:c,children:Object(a.jsx)(le,{heroData:t,action:"none"},n)},n)}))}()})}),Object(a.jsx)("div",{children:Object(a.jsx)("p",{className:"main-btn"+(null!==e.heroToFight.hero1?" active":""),onClick:function(){return e.toggle("fight")},children:X(e.lang,"Find the enemy!")})})]})})})),He=Object(j.b)((function(e){return{lang:e.lang}}))((function(e){return Object(a.jsx)("div",{className:"modal modal-succes modal-omg",children:Object(a.jsxs)("div",{className:"modal__content",children:[Object(a.jsx)("div",{className:"modal__top",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h3",{className:"modal__title modal__big",children:X(e.lang,"OMG!")}),Object(a.jsxs)("p",{className:"modal__text",children:[X(e.lang,"What's in store for you? Open the chest as soon as possible to get a reward! You deserve it!")," "]})]})}),Object(a.jsx)("div",{className:"modal__hero",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("img",{src:"".concat("","/images/omg.svg")})})}),Object(a.jsxs)("div",{className:"modal__flex",children:[Object(a.jsx)("p",{className:"btn",onClick:function(){return e.toggle("fight-result")},children:X(e.lang,"Back")}),Object(a.jsx)("p",{className:"main-btn active",onClick:function(){return e.toggle("success-fight")},children:X(e.lang,"Open")})]})]})})})),Se=function(e){return{type:"SET_LANG",payload:e}},ke={setLang:Se},Ee=Object(j.b)((function(e){return{lang:e.lang}}),ke)((function(e){return Object(a.jsx)("div",{className:"modal modal-succes modal-omg",children:Object(a.jsxs)("div",{className:"modal__content",children:[Object(a.jsx)("div",{className:"modal__top",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h3",{className:"modal__title modal__big",children:X(e.lang,"Oh sorry!")}),Object(a.jsxs)("p",{className:"modal__text",children:[X(e.lang,"We apologize, Cero, something went wrong! Get back to your journey! There are many evil forces in the world, with which your sword should fight!")," "]})]})}),Object(a.jsx)("div",{className:"modal__hero",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("img",{src:"".concat("","/images/sorry.svg")})})}),Object(a.jsxs)("div",{className:"modal__flex",children:[Object(a.jsx)("p",{className:"btn",onClick:e.hide,children:X(e.lang,"Back")}),Object(a.jsx)("p",{className:"main-btn",onClick:e.hide,children:X(e.lang,"Cero page")})]})]})})})),Fe={setLang:Se},De=Object(j.b)((function(e){return{heroCreated:e.heroCreated,lang:e.lang}}),Fe)((function(e){return Object(a.jsx)("div",{className:"modal modal-succes",children:Object(a.jsxs)("div",{className:"modal__content",children:[Object(a.jsx)("div",{className:"modal__top",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h3",{className:"modal__title modal__big",children:X(e.lang,"YEAH!")}),Object(a.jsxs)("p",{className:"modal__text",children:[X(e.lang,"You have a level")," ",Object(a.jsxs)("span",{children:[e.heroCreated.info.level," Cero,"]})," ",X(e.lang,"congratulations! Keep fighting to level up and become even stronger!")," "]})]})}),Object(a.jsx)("div",{className:"modal__hero",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsx)(ue,{heroData:e.heroCreated})})}),Object(a.jsx)("div",{className:"modal__flex",children:Object(a.jsx)("p",{className:"btn",onClick:e.toggle,children:X(e.lang,"Close")})})]})})})),ze={setLang:Se},Re=Object(j.b)((function(e){return{heroCreated:e.heroCreated,lang:e.lang}}),ze)((function(e){return Object(a.jsx)("div",{className:"modal modal-succes",children:Object(a.jsxs)("div",{className:"modal__content",children:[Object(a.jsx)("div",{className:"modal__top",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h3",{className:"modal__title modal__big",children:X(e.lang,"WOW!")}),Object(a.jsx)("p",{className:"modal__text",children:X(e.lang,"You get a new Cero, congratulations! Keep fighting  and level up!")})]})}),Object(a.jsx)("div",{className:"modal__hero",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsx)(ue,{heroData:e.fightResult.newHero})})}),Object(a.jsx)("div",{className:"modal__flex",children:Object(a.jsx)("p",{className:"btn",onClick:function(){return e.toggle("close")},children:X(e.lang,"Close")})})]})})})),Ae=function(){return Object(a.jsx)("div",{className:"modal modal-succes modal-omg",children:Object(a.jsxs)("div",{className:"modal__content",children:[Object(a.jsx)("div",{className:"modal__top"}),Object(a.jsx)("div",{className:"modal__hero",children:Object(a.jsx)("div",{className:"lds-dual-ring"})}),Object(a.jsx)("div",{className:"modal__flex"})]})})},Ie=function(e){return Object(a.jsxs)(a.Fragment,{children:[e.isShowingModalResult||"fight-result"===e.active?Object(a.jsx)(ie,{toggle:e.toggle,fightResult:e.fightResult,setFightResult:e.setFightResult}):null,e.isShowingChooseHero||"choose-hero"===e.active?Object(a.jsx)(he,{toggle:e.toggle}):null,e.isShowingModalFigh||"fight"===e.active?Object(a.jsx)(Te,{toggle:e.toggle,fightResult:e.fightResult,setFightResult:e.setFightResult}):null,e.isShowingModalFightSelect||"fight-select"===e.active?Object(a.jsx)(Ce,{toggle:e.toggle,fightResult:e.fightResult,setFightResult:e.setFightResult}):null,e.isShowingModalOmg||"omg"===e.active?Object(a.jsx)(He,{toggle:e.toggle,fightResult:e.fightResult,setFightResult:e.setFightResult}):null,e.isShowingModalSuccess||"success"===e.active?Object(a.jsx)(De,{toggle:e.toggle}):null,e.isShowingModalSuccessFight||"success-fight"===e.active?Object(a.jsx)(Re,{toggle:e.toggle,fightResult:e.fightResult,setFightResult:e.setFightResult}):null,e.isShowingModalSorry?Object(a.jsx)(Ee,{toggle:e.toggle}):null,"preloader"===e.active?Object(a.jsx)(Ae,{toggle:e.toggle}):null]})},Le=n.p+"static/media/cero.e614e3c2.svg",Me=n.p+"static/media/fight.f819afcd.svg",Be={setLang:Se},We=Object(j.b)((function(e){return{lang:e.lang,addressToHeroes:e.addressToHeroes,heroToFight:e.heroToFight,account:e.account}}),Be)((function(e){var t=Object(c.useState)(null),n=Object(M.a)(t,2),r=n[0],s=n[1],o=Object(c.useState)(null),l=Object(M.a)(o,2),i=l[0],h=l[1];function u(e){s("close"!==e?e:null)}return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("header",{className:"header",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsxs)("div",{className:"header__flex",children:[Object(a.jsx)("p",{className:"header__logo",children:Object(a.jsx)(B.b,{to:"/",children:Object(a.jsx)("img",{src:Le})})}),null===e.account.wallet?"":Object(a.jsxs)("div",{className:"header__menu",children:[Object(a.jsx)(B.b,{to:"/hero-list",className:"header__menu-link",children:X(e.lang,"My Cero")}),Object(a.jsx)(B.b,{to:"/hero-create",className:"header__menu-link",children:X(e.lang,"Create Cero")}),Object(a.jsx)(B.b,{to:"/account",className:"header__menu-link",children:X(e.lang,"Account")})]})]}),Object(a.jsx)("div",{className:"header__flex",children:function(){var t=e.addressToHeroes[e.account.walletFormatted]||[];return null===e.account.wallet||0===t.length?"":Object(a.jsxs)("div",{onClick:function(){return u("fight-select")},className:"main-btn header-btn",children:[X(e.lang,"Start fight")," ",Object(a.jsx)("img",{src:Me})]})}()})]})}),Object(a.jsx)(Ie,{active:r,toggle:u,fightResult:i,setFightResult:h})]})})),Ue=(n.p,n.p,n.p,Object(j.b)((function(e){return{lang:e.lang}}))((function(e){return e.isShowing?o.a.createPortal(Object(a.jsx)(r.a.Fragment,{children:Object(a.jsx)("div",{className:"modal modal-succes modal-info",children:Object(a.jsxs)("div",{className:"modal__content",children:[Object(a.jsx)("div",{className:"modal__top",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h3",{className:"modal__title modal__big",children:X(e.lang,"INFO!")}),Object(a.jsx)("br",{}),Object(a.jsx)("p",{className:"modal__text",children:X(e.lang,e.message)})]})}),Object(a.jsx)("div",{className:"modal__flex",children:Object(a.jsx)("p",{className:"btn",onClick:function(){return e.setSHowInfo(!1)},children:X(e.lang,"OK!")})})]})})}),document.body):null}))),Ge={setLang:Se,setAccountWallet:U,setAccountBalance:G},Pe=Object(j.b)((function(e){return{lang:e.lang,account:e.account}}),Ge)((function(e){var t=Object(c.useState)(!1),n=Object(M.a)(t,2),r=n[0],s=n[1],o=function(){var t=P();null!==t?t.eth.getAccounts((function(n,a){null===n&&0!==a.length&&(e.setAccountWallet(a[0]),t.eth.getBalance(a[0]).then((function(t){e.setAccountBalance(t)})))})):s(!0)};return Object(a.jsxs)("div",{className:"",children:[Object(a.jsx)(We,{}),Object(a.jsx)("section",{className:"top",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{className:"top__title",children:X(e.lang,"Crypto hero this is Cero")}),Object(a.jsx)("p",{className:"grey-text top__text",children:X(e.lang,"A game in which data is stored in a blockchain")}),null!==e.account.wallet?"":Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"main-btn",onClick:function(){return o()},children:[X(e.lang,"Connect to"),Object(a.jsx)("img",{src:V,alt:V})]})})]}),Object(a.jsx)("img",{src:"".concat("","/images/book.png")})]})}),Object(a.jsx)("section",{className:"hero",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h2",{className:"title-min",children:X(e.lang,"Play, upgrade, trade, and win new heroes")}),Object(a.jsx)("p",{className:"hero__text",children:X(e.lang,"Each Cero has unique abilities. Unlock new ceroes by defeating or improving ceroes of the same level.")}),Object(a.jsxs)("div",{className:"hero__block",children:[Object(a.jsx)("img",{src:"".concat("","/images/player3.svg")}),Object(a.jsx)("img",{src:"".concat("","/images/player1.svg")}),Object(a.jsx)("img",{src:"".concat("","/images/player2.svg")}),Object(a.jsx)("img",{src:"".concat("","/images/player3.svg")}),Object(a.jsx)("img",{src:"".concat("","/images/player4.svg")}),Object(a.jsx)("img",{src:"".concat("","/images/player5.svg")}),Object(a.jsx)("img",{src:"".concat("","/images/player6.svg")})]})]})}),Object(a.jsx)("section",{className:"play",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("img",{src:"".concat("","/images/hat.svg")}),Object(a.jsxs)("div",{className:"play__info",children:[Object(a.jsx)("h2",{className:"title-min",children:X(e.lang,"Play, upgrade, trade, and win")}),Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:X(e.lang,"Unique abilities of heroes")}),Object(a.jsx)("li",{children:X(e.lang,"Hero evolution")}),Object(a.jsx)("li",{children:X(e.lang,"Battle in the random fights")}),Object(a.jsx)("li",{children:X(e.lang,"If you win, you get a new Cero of the first level")}),Object(a.jsx)("li",{children:X(e.lang,"Blockchain application")})]})]})]})}),Object(a.jsx)(Ue,{isShowing:r,setSHowInfo:s,message:"Please install Metamask plugin to your browser and connect to Cero!"})]})})),Ye=(n(525),{setHeroCreated:function(e){return{type:"SET_HERO_CREATED",payload:e}}}),qe=Object(j.b)((function(e){return{lang:e.lang,drizzle:e.drizzle,account:e.account,heroToCreate:e.heroToCreate}}),Ye)((function(e){var t=Object(c.useState)(null),n=Object(M.a)(t,2),r=n[0],s=n[1];function o(e){s("close"!==e?e:null)}var l=function(t){return null===t?Object(a.jsx)("div",{className:"create-blolck",onClick:function(){return o("choose-hero")},children:X(e.lang,"Select your Cero")}):Object(a.jsx)("div",{className:"create-blolck",onClick:function(){return o("choose-hero")},children:Object(a.jsx)(le,{heroData:t,action:"none"})})};function i(){return(i=Object(L.a)(I.a.mark((function t(){var n,a,c;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==e.heroToCreate.hero1&&null!=e.heroToCreate.hero2){t.next=2;break}return t.abrupt("return");case 2:return n=xe(e.heroToCreate.hero1.info,e.heroToCreate.hero2.info),e.setHeroCreated(n),a=Number(e.heroToCreate.hero1.number),c=Number(e.heroToCreate.hero2.number),o("preloader"),t.next=9,e.drizzle.contracts.HeroCore.methods.createHero(n.soul,e.account.wallet,a,c,!1).send({from:e.account.wallet},(function(e){null!==e&&o(null)}));case 9:t.sent,o("success");case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(We,{}),Object(a.jsx)("div",{className:"HeroList HeroCreate",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("div",{className:"HeroList__content",children:[Object(a.jsxs)("div",{className:"HeroList__top",children:[Object(a.jsx)("h1",{className:"top__title",children:X(e.lang,"Create cero")}),Object(a.jsx)("p",{className:"grey-text",children:X(e.lang,"Combine 2 heroes of the same level to get a stronger hero. When combined, the heroes that unite disappear! Be careful.")})]}),Object(a.jsxs)("div",{className:"HeroList__container",children:[l(e.heroToCreate.hero1),Object(a.jsx)("div",{className:"plus",children:Object(a.jsx)("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(a.jsx)("path",{d:"M6.89355 1.34253C6.89355 0.742529 7.29355 0.342529 7.89355 0.342529C8.49355 0.342529 8.89355 0.742529 8.89355 1.34253V6.34253H13.8936C14.4936 6.34253 14.8936 6.74253 14.8936 7.34253C14.8936 7.94253 14.4936 8.34253 13.8936 8.34253H8.89355V13.3425C8.89355 13.9425 8.49355 14.3425 7.89355 14.3425C7.29355 14.3425 6.89355 13.9425 6.89355 13.3425V8.34253H1.89355C1.29355 8.34253 0.893555 7.94253 0.893555 7.34253C0.893555 6.74253 1.29355 6.34253 1.89355 6.34253H6.89355V1.34253Z",fill:"#FDFDFD"})})}),l(e.heroToCreate.hero2),Object(a.jsx)("p",{onClick:function(){return function(){return i.apply(this,arguments)}()},className:"create-btn main-btn"+(null!==e.heroToCreate.hero1&&null!=e.heroToCreate.hero2?" active":""),children:X(e.lang,"Create new Cero!")})]})]})})}),Object(a.jsx)(Ie,{active:r,toggle:o})]})})),Ve=(n(526),Object(j.b)((function(e){return{lang:e.lang,drizzle:e.drizzle,account:e.account,addressToHeroes:e.addressToHeroes}}))((function(e){var t=Object(c.useState)(null),n=Object(M.a)(t,2),r=n[0],s=n[1];function o(e){s("close"!==e?e:null)}function l(){return(l=Object(L.a)(I.a.mark((function t(){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=ve(1),o("preloader"),t.next=4,e.drizzle.contracts.HeroCore.methods.createHero(n.soul,e.account.wallet,0,0,!0).send({from:e.account.wallet},(function(e){null!==e&&o(null)}));case 4:t.sent,o(null);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(a.jsxs)("div",{children:[Object(a.jsx)(We,{}),Object(a.jsx)("div",{className:"HeroList",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("div",{className:"HeroList__content",children:[Object(a.jsxs)("div",{className:"HeroList__top",children:[Object(a.jsx)("h1",{className:"top__title",children:X(e.lang,"My Cero")}),Object(a.jsx)("p",{className:"grey-text",children:X(e.lang,"Here you can find a list of your Ceroes. Each of them has unique characteristics and capabilities. Fight against other players and unlock new Ceroes.")})]}),Object(a.jsx)("div",{className:"HeroList__container",children:function(){var t=e.addressToHeroes[e.account.walletFormatted];return void 0===t||0===t.length?Object(a.jsx)("p",{className:"main-btn header-btn",onClick:function(){return function(){return l.apply(this,arguments)}()},children:X(e.lang,"Get your first Cero!")}):t.map((function(e,t){return Object(a.jsx)(le,{heroData:e},t)}))}()})]})})}),Object(a.jsx)(Ie,{active:r,toggle:o})]})}))),Ze=(n(527),{setLang:Se}),Je=Object(j.b)((function(e){return{lang:e.lang,account:e.account,addressToHeroes:e.addressToHeroes,fightsResult:e.fightsResult}}),Ze)((function(e){var t=Object(c.useState)(e.location.search.substring(1).split("=")[1]),n=Object(M.a)(t,1)[0],r=Object(c.useState)({}),s=Object(M.a)(r,2),o=s[0],l=s[1];Object(c.useEffect)((function(){var t=e.addressToHeroes[e.account.walletFormatted];if(void 0===t||0===t.length)return"";t.forEach((function(e){e.number==n&&l(e)}))}));return Object(a.jsxs)("div",{children:[Object(a.jsx)(We,{}),Object(a.jsx)("div",{className:"HeroList HeroStats",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("div",{className:"HeroList__content",children:[Object(a.jsxs)("div",{className:"HeroList__top",children:[Object(a.jsx)("h1",{className:"top__title",children:X(e.lang,"Cero stats")}),Object(a.jsxs)("p",{className:"grey-text",children:[X(e.lang,"Magician born in the school of magic. From birth he feels a great craving for everything magical and spiritual.")," "]})]}),Object(a.jsxs)("div",{className:"HeroStats__container",children:[Object(a.jsx)(ue,{heroData:o}),Object(a.jsxs)("div",{className:"HeroStats__stat",children:[Object(a.jsx)("h2",{children:X(e.lang,"Your stats")}),function(){if(0===e.fightsResult.length)return Object(a.jsxs)("div",{className:"HeroStats__stat-top",children:[Object(a.jsxs)("p",{children:[Object(a.jsx)("span",{children:"0"}),X(e.lang,"Win")]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("span",{children:"0"}),X(e.lang,"Defeat")]})]});for(var t=0,c=0,r=0,s=Object.entries(e.fightsResult);r<s.length;r++){var o=Object(M.a)(s[r],2),l=(o[0],o[1]);Number(l.hero1)!==Number(n)&&Number(l.hero2)!==Number(n)||(Number(l.winner)===Number(n)?t++:c++)}return Object(a.jsxs)("div",{className:"HeroStats__stat-top",children:[Object(a.jsxs)("p",{children:[Object(a.jsx)("span",{children:t}),X(e.lang,"Win")]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("span",{children:c}),X(e.lang,"Defeat")]})]})}(),Object(a.jsx)("div",{className:"result"})]})]})]})})})]})})),Ke=(n(528),Object(j.b)((function(e){return{lang:e.lang,account:e.account}}))((function(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)(We,{}),Object(a.jsx)("div",{className:"HeroList Account",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("div",{className:"HeroList__content",children:[Object(a.jsxs)("div",{className:"HeroList__top",children:[Object(a.jsx)("h1",{className:"top__title",children:X(e.lang,"Account")}),Object(a.jsx)("p",{className:"grey-text",children:X(e.lang,"Magician born in the school of magic. From birth he feels a great craving for everything magical and spiritual.")})]}),Object(a.jsxs)("div",{className:"Account__container",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{className:"Account-subtitle",children:X(e.lang,"Wallet")}),Object(a.jsx)("p",{className:"Account-title",children:e.account.wallet})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{className:"Account-subtitle",children:X(e.lang,"Balance")}),Object(a.jsxs)("p",{className:"Account-title",children:[Math.round(e.account.balance/1e18*1e4)/1e4," ETH"]})]})]})]})})})]})}))),Qe={setDrizzle:function(e){return{type:"SET_DRIZZLE",payload:e}},setAccountWallet:U,setAccountBalance:G,setLastSyncUpdate:function(){return{type:"SET_LAST_SYNC_UPDATE"}},setAddressToHeroes:function(e){return{type:"SET_ADDRESS_TO_HEROES",payload:e}},setFightsResults:function(e){return{type:"SET_FIGHTS_RESULT",payload:e}}},Xe=Object(j.b)((function(e){return{drizzleState:e.drizzle,account:e.account,syncData:e.syncData}}),Qe)((function(e){var t=Object(c.useState)(null),n=Object(M.a)(t,2),r=n[0],s=n[1];function o(){return l.apply(this,arguments)}function l(){return(l=Object(L.a)(I.a.mark((function t(){var n,a,c,r,s;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.drizzleState.contracts.HeroCore.methods.getHeroesOwner().call();case 2:n=t.sent,a=[],c=0;case 5:if(!(c<n.heroOwner.length)){t.next=19;break}return t.next=8,e.drizzleState.contracts.HeroCore.methods.getHeroInfo(n.heroNum[c]).call();case 8:if(!1!==(r=t.sent).isExist){t.next=11;break}return t.abrupt("continue",16);case 11:r.info=be(r.soul),r.number=n.heroNum[c],r.owner=n.heroOwner[c],s=n.heroOwner[c].toUpperCase(),void 0===a[s]?a[s]=[r]:a[s].push(r);case 16:c++,t.next=5;break;case 19:return t.abrupt("return",a);case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function i(){return h.apply(this,arguments)}function h(){return(h=Object(L.a)(I.a.mark((function t(){var n,a,c,r;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.drizzleState.contracts.HeroCore.methods.getFights().call();case 2:for(n=t.sent,a=[],c=0;c<n.hero1.length;c++)r={hero1:n.hero1[c],hero2:n.hero2[c],time:n.time[c],winner:n.winner[c]},a.push(r);return t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}q.a.initialize("G-9JWDG304QS"),Object(c.useEffect)((function(){e.setDrizzle(e.drizzle);var t=P();null!==t&&t.eth.getAccounts((function(n,a){null===n&&0!==a.length&&(e.setAccountWallet(a[0]),t.eth.getBalance(a[0]).then((function(t){e.setAccountBalance(t)})))})),s(t)}),[]),void 0!==window.ethereum&&window.ethereum.on("accountsChanged",(function(t){e.setAccountWallet(t[0]),null!==r&&r.eth.getBalance(t[0]).then((function(t){e.setAccountBalance(t)}))})),Object(c.useEffect)(Object(L.a)(I.a.mark((function t(){var n,a;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(Date.now()-e.syncData.lastUpdate<1e4||null===e.drizzleState||null===e.account.wallet)){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,o();case 4:return n=t.sent,t.next=7,i();case 7:a=t.sent,0!==Object.keys(n).length&&e.setAddressToHeroes(n),0!==a.length&&e.setFightsResults(a);case 10:case"end":return t.stop()}}),t)}))));var u=Object(Y.a)();return u.listen((function(e){console.log(e),q.a.set({page:e.pathname}),q.a.pageview(e.pathname)})),Object(a.jsx)(B.a,{history:u,children:Object(a.jsxs)(W.c,{children:[Object(a.jsx)(W.a,{path:"/account",component:Ke}),Object(a.jsx)(W.a,{path:"/hero-list",component:Ve}),Object(a.jsx)(W.a,{path:"/hero-stats",component:Je}),Object(a.jsx)(W.a,{path:"/hero-create",component:qe}),Object(a.jsx)(W.a,{path:"/my-hero",component:qe}),Object(a.jsx)(W.a,{path:"/",component:Pe})]})})})),$e=new l.Drizzle(d);o.a.render(Object(a.jsx)(i.DrizzleContext.Provider,{drizzle:$e,children:Object(a.jsx)(j.a,{store:R,children:Object(a.jsx)(i.DrizzleContext.Consumer,{children:function(e){var t=e.drizzle;e.drizzleState;return e.initialized?Object(a.jsx)(Xe,{drizzle:t}):"Loading..."}})})}),document.getElementById("root"))}},[[529,1,2]]]);
//# sourceMappingURL=main.592fce82.chunk.js.map